<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2020.11-12 | Today Yurim Learned</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/TIL/logo.png">
    <meta name="description" content="Yurim's Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.8364c3bd.css" as="style"><link rel="preload" href="/TIL/assets/js/app.2b48478b.js" as="script"><link rel="preload" href="/TIL/assets/js/2.cfc8eb86.js" as="script"><link rel="preload" href="/TIL/assets/js/216.4d012c7a.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.910d8a61.js"><link rel="prefetch" href="/TIL/assets/js/100.5074d9c8.js"><link rel="prefetch" href="/TIL/assets/js/101.5bca3974.js"><link rel="prefetch" href="/TIL/assets/js/102.fa7c2b9b.js"><link rel="prefetch" href="/TIL/assets/js/103.84842e1d.js"><link rel="prefetch" href="/TIL/assets/js/104.5f917576.js"><link rel="prefetch" href="/TIL/assets/js/105.83a7bb13.js"><link rel="prefetch" href="/TIL/assets/js/106.7e14d11d.js"><link rel="prefetch" href="/TIL/assets/js/107.decdbb29.js"><link rel="prefetch" href="/TIL/assets/js/108.777d5cc1.js"><link rel="prefetch" href="/TIL/assets/js/109.2066555a.js"><link rel="prefetch" href="/TIL/assets/js/11.78ce139b.js"><link rel="prefetch" href="/TIL/assets/js/110.0a18da66.js"><link rel="prefetch" href="/TIL/assets/js/111.d1fc3c79.js"><link rel="prefetch" href="/TIL/assets/js/112.7f61711f.js"><link rel="prefetch" href="/TIL/assets/js/113.e3bdc1bb.js"><link rel="prefetch" href="/TIL/assets/js/114.0061ce10.js"><link rel="prefetch" href="/TIL/assets/js/115.e9f2a76a.js"><link rel="prefetch" href="/TIL/assets/js/116.2385616f.js"><link rel="prefetch" href="/TIL/assets/js/117.631783ec.js"><link rel="prefetch" href="/TIL/assets/js/118.c7a1ab43.js"><link rel="prefetch" href="/TIL/assets/js/119.75f7e37e.js"><link rel="prefetch" href="/TIL/assets/js/12.843d7427.js"><link rel="prefetch" href="/TIL/assets/js/120.445357f0.js"><link rel="prefetch" href="/TIL/assets/js/121.a4ad8554.js"><link rel="prefetch" href="/TIL/assets/js/122.9b6dbd9d.js"><link rel="prefetch" href="/TIL/assets/js/123.9c593401.js"><link rel="prefetch" href="/TIL/assets/js/124.3f533b3c.js"><link rel="prefetch" href="/TIL/assets/js/125.f82e72ba.js"><link rel="prefetch" href="/TIL/assets/js/126.f011309d.js"><link rel="prefetch" href="/TIL/assets/js/127.493ea741.js"><link rel="prefetch" href="/TIL/assets/js/128.a09700bc.js"><link rel="prefetch" href="/TIL/assets/js/129.10809aa0.js"><link rel="prefetch" href="/TIL/assets/js/13.f189f371.js"><link rel="prefetch" href="/TIL/assets/js/130.278d80cd.js"><link rel="prefetch" href="/TIL/assets/js/131.110e286a.js"><link rel="prefetch" href="/TIL/assets/js/132.7e10bee5.js"><link rel="prefetch" href="/TIL/assets/js/133.0b3953dd.js"><link rel="prefetch" href="/TIL/assets/js/134.c90c6693.js"><link rel="prefetch" href="/TIL/assets/js/135.776c3ccc.js"><link rel="prefetch" href="/TIL/assets/js/136.c2445e90.js"><link rel="prefetch" href="/TIL/assets/js/137.850fc16e.js"><link rel="prefetch" href="/TIL/assets/js/138.8c9cc205.js"><link rel="prefetch" href="/TIL/assets/js/139.4aa8a2f5.js"><link rel="prefetch" href="/TIL/assets/js/14.d957cae3.js"><link rel="prefetch" href="/TIL/assets/js/140.e5ff7965.js"><link rel="prefetch" href="/TIL/assets/js/141.2c75339f.js"><link rel="prefetch" href="/TIL/assets/js/142.ac819bca.js"><link rel="prefetch" href="/TIL/assets/js/143.aff6d54e.js"><link rel="prefetch" href="/TIL/assets/js/144.42f620b5.js"><link rel="prefetch" href="/TIL/assets/js/145.89c50853.js"><link rel="prefetch" href="/TIL/assets/js/146.f5cc76d0.js"><link rel="prefetch" href="/TIL/assets/js/147.b148363d.js"><link rel="prefetch" href="/TIL/assets/js/148.97554eb0.js"><link rel="prefetch" href="/TIL/assets/js/149.5202f9dd.js"><link rel="prefetch" href="/TIL/assets/js/15.c3cde8b1.js"><link rel="prefetch" href="/TIL/assets/js/150.47e9fea6.js"><link rel="prefetch" href="/TIL/assets/js/151.86a291de.js"><link rel="prefetch" href="/TIL/assets/js/152.96beeb62.js"><link rel="prefetch" href="/TIL/assets/js/153.56e66b55.js"><link rel="prefetch" href="/TIL/assets/js/154.9ed40486.js"><link rel="prefetch" href="/TIL/assets/js/155.c821eb86.js"><link rel="prefetch" href="/TIL/assets/js/156.03a05527.js"><link rel="prefetch" href="/TIL/assets/js/157.f1db31c0.js"><link rel="prefetch" href="/TIL/assets/js/158.e9d51710.js"><link rel="prefetch" href="/TIL/assets/js/159.8af80cb6.js"><link rel="prefetch" href="/TIL/assets/js/16.bb99a925.js"><link rel="prefetch" href="/TIL/assets/js/160.ebcdd34f.js"><link rel="prefetch" href="/TIL/assets/js/161.d47ead3e.js"><link rel="prefetch" href="/TIL/assets/js/162.6c6820d1.js"><link rel="prefetch" href="/TIL/assets/js/163.ed952bb4.js"><link rel="prefetch" href="/TIL/assets/js/164.61efbc3e.js"><link rel="prefetch" href="/TIL/assets/js/165.704dd03c.js"><link rel="prefetch" href="/TIL/assets/js/166.3424053d.js"><link rel="prefetch" href="/TIL/assets/js/167.fcbfaf0d.js"><link rel="prefetch" href="/TIL/assets/js/168.1411c67b.js"><link rel="prefetch" href="/TIL/assets/js/169.e7515da9.js"><link rel="prefetch" href="/TIL/assets/js/17.bd0955f4.js"><link rel="prefetch" href="/TIL/assets/js/170.03e2571a.js"><link rel="prefetch" href="/TIL/assets/js/171.9f318a4d.js"><link rel="prefetch" href="/TIL/assets/js/172.b37f83dd.js"><link rel="prefetch" href="/TIL/assets/js/173.343ff166.js"><link rel="prefetch" href="/TIL/assets/js/174.407d9bf0.js"><link rel="prefetch" href="/TIL/assets/js/175.a79a9665.js"><link rel="prefetch" href="/TIL/assets/js/176.287513bd.js"><link rel="prefetch" href="/TIL/assets/js/177.709379b2.js"><link rel="prefetch" href="/TIL/assets/js/178.c755f948.js"><link rel="prefetch" href="/TIL/assets/js/179.213d9ee1.js"><link rel="prefetch" href="/TIL/assets/js/18.6f831bba.js"><link rel="prefetch" href="/TIL/assets/js/180.decb0104.js"><link rel="prefetch" href="/TIL/assets/js/181.c6ddb9c7.js"><link rel="prefetch" href="/TIL/assets/js/182.e32d6c93.js"><link rel="prefetch" href="/TIL/assets/js/183.84a6ee9a.js"><link rel="prefetch" href="/TIL/assets/js/184.97601183.js"><link rel="prefetch" href="/TIL/assets/js/185.41bcd95c.js"><link rel="prefetch" href="/TIL/assets/js/186.18697b90.js"><link rel="prefetch" href="/TIL/assets/js/187.31640dde.js"><link rel="prefetch" href="/TIL/assets/js/188.0515d9b8.js"><link rel="prefetch" href="/TIL/assets/js/189.500b7d09.js"><link rel="prefetch" href="/TIL/assets/js/19.118f3778.js"><link rel="prefetch" href="/TIL/assets/js/190.8aad3ef9.js"><link rel="prefetch" href="/TIL/assets/js/191.e7a51355.js"><link rel="prefetch" href="/TIL/assets/js/192.b5ce4059.js"><link rel="prefetch" href="/TIL/assets/js/193.d368d644.js"><link rel="prefetch" href="/TIL/assets/js/194.378ecbfd.js"><link rel="prefetch" href="/TIL/assets/js/195.07bb927d.js"><link rel="prefetch" href="/TIL/assets/js/196.03410386.js"><link rel="prefetch" href="/TIL/assets/js/197.07eb1fa5.js"><link rel="prefetch" href="/TIL/assets/js/198.292f57f5.js"><link rel="prefetch" href="/TIL/assets/js/199.3a919f4c.js"><link rel="prefetch" href="/TIL/assets/js/20.74bb3c29.js"><link rel="prefetch" href="/TIL/assets/js/200.24c835c2.js"><link rel="prefetch" href="/TIL/assets/js/201.252b5cc5.js"><link rel="prefetch" href="/TIL/assets/js/202.0456b5e3.js"><link rel="prefetch" href="/TIL/assets/js/203.4a480a40.js"><link rel="prefetch" href="/TIL/assets/js/204.920bb9a2.js"><link rel="prefetch" href="/TIL/assets/js/205.c3ea9351.js"><link rel="prefetch" href="/TIL/assets/js/206.cf78fa5c.js"><link rel="prefetch" href="/TIL/assets/js/207.62f915cb.js"><link rel="prefetch" href="/TIL/assets/js/208.c8774c8c.js"><link rel="prefetch" href="/TIL/assets/js/209.36e7b13c.js"><link rel="prefetch" href="/TIL/assets/js/21.7a8f5a23.js"><link rel="prefetch" href="/TIL/assets/js/210.69187a93.js"><link rel="prefetch" href="/TIL/assets/js/211.2cbe193c.js"><link rel="prefetch" href="/TIL/assets/js/212.feaf25b9.js"><link rel="prefetch" href="/TIL/assets/js/213.52fd65a9.js"><link rel="prefetch" href="/TIL/assets/js/214.b9acf47e.js"><link rel="prefetch" href="/TIL/assets/js/215.ead9b668.js"><link rel="prefetch" href="/TIL/assets/js/217.e624f560.js"><link rel="prefetch" href="/TIL/assets/js/218.3684a8f4.js"><link rel="prefetch" href="/TIL/assets/js/219.c1ab07cf.js"><link rel="prefetch" href="/TIL/assets/js/22.1f74b223.js"><link rel="prefetch" href="/TIL/assets/js/220.f8457161.js"><link rel="prefetch" href="/TIL/assets/js/221.e82b5b14.js"><link rel="prefetch" href="/TIL/assets/js/222.399906a3.js"><link rel="prefetch" href="/TIL/assets/js/223.034b4e88.js"><link rel="prefetch" href="/TIL/assets/js/224.c1c18d31.js"><link rel="prefetch" href="/TIL/assets/js/225.6b9c76da.js"><link rel="prefetch" href="/TIL/assets/js/226.68ee80fc.js"><link rel="prefetch" href="/TIL/assets/js/227.f7458fe8.js"><link rel="prefetch" href="/TIL/assets/js/228.8f5946af.js"><link rel="prefetch" href="/TIL/assets/js/229.dc783db7.js"><link rel="prefetch" href="/TIL/assets/js/23.b9c40bcf.js"><link rel="prefetch" href="/TIL/assets/js/230.7053c9ed.js"><link rel="prefetch" href="/TIL/assets/js/231.19843620.js"><link rel="prefetch" href="/TIL/assets/js/232.877ae7b5.js"><link rel="prefetch" href="/TIL/assets/js/233.115f1448.js"><link rel="prefetch" href="/TIL/assets/js/234.3c9c2691.js"><link rel="prefetch" href="/TIL/assets/js/235.acdd8f4d.js"><link rel="prefetch" href="/TIL/assets/js/236.ad62dca2.js"><link rel="prefetch" href="/TIL/assets/js/237.3a472dfd.js"><link rel="prefetch" href="/TIL/assets/js/238.fd2a6123.js"><link rel="prefetch" href="/TIL/assets/js/239.7d2512ed.js"><link rel="prefetch" href="/TIL/assets/js/24.993352b9.js"><link rel="prefetch" href="/TIL/assets/js/240.e6de9afa.js"><link rel="prefetch" href="/TIL/assets/js/241.4fd8dea8.js"><link rel="prefetch" href="/TIL/assets/js/242.e118d042.js"><link rel="prefetch" href="/TIL/assets/js/243.6c515da3.js"><link rel="prefetch" href="/TIL/assets/js/244.69f27f5b.js"><link rel="prefetch" href="/TIL/assets/js/245.98797fbf.js"><link rel="prefetch" href="/TIL/assets/js/246.dbc7d735.js"><link rel="prefetch" href="/TIL/assets/js/247.21e492fd.js"><link rel="prefetch" href="/TIL/assets/js/248.27a48bf0.js"><link rel="prefetch" href="/TIL/assets/js/249.2552f772.js"><link rel="prefetch" href="/TIL/assets/js/25.e527cfcb.js"><link rel="prefetch" href="/TIL/assets/js/250.1a90039b.js"><link rel="prefetch" href="/TIL/assets/js/251.be3b6d4f.js"><link rel="prefetch" href="/TIL/assets/js/252.3318224e.js"><link rel="prefetch" href="/TIL/assets/js/253.c310a8a5.js"><link rel="prefetch" href="/TIL/assets/js/254.cd269168.js"><link rel="prefetch" href="/TIL/assets/js/255.cdba9214.js"><link rel="prefetch" href="/TIL/assets/js/26.08c52b21.js"><link rel="prefetch" href="/TIL/assets/js/27.f93d6be9.js"><link rel="prefetch" href="/TIL/assets/js/28.e8fc9168.js"><link rel="prefetch" href="/TIL/assets/js/29.f41b444d.js"><link rel="prefetch" href="/TIL/assets/js/3.3e18c391.js"><link rel="prefetch" href="/TIL/assets/js/30.8c02eca9.js"><link rel="prefetch" href="/TIL/assets/js/31.ed448512.js"><link rel="prefetch" href="/TIL/assets/js/32.4919d3b4.js"><link rel="prefetch" href="/TIL/assets/js/33.3cfb75aa.js"><link rel="prefetch" href="/TIL/assets/js/34.51bcad8c.js"><link rel="prefetch" href="/TIL/assets/js/35.04fe5f16.js"><link rel="prefetch" href="/TIL/assets/js/36.d8ea21d7.js"><link rel="prefetch" href="/TIL/assets/js/37.b0e20a4b.js"><link rel="prefetch" href="/TIL/assets/js/38.edb80265.js"><link rel="prefetch" href="/TIL/assets/js/39.3137d45d.js"><link rel="prefetch" href="/TIL/assets/js/4.17e37047.js"><link rel="prefetch" href="/TIL/assets/js/40.0459b83c.js"><link rel="prefetch" href="/TIL/assets/js/41.e9e6b87c.js"><link rel="prefetch" href="/TIL/assets/js/42.a687b5be.js"><link rel="prefetch" href="/TIL/assets/js/43.fbcd481b.js"><link rel="prefetch" href="/TIL/assets/js/44.e165941e.js"><link rel="prefetch" href="/TIL/assets/js/45.b5ee0a7c.js"><link rel="prefetch" href="/TIL/assets/js/46.54d77e29.js"><link rel="prefetch" href="/TIL/assets/js/47.a52e9a32.js"><link rel="prefetch" href="/TIL/assets/js/48.dbfecaf1.js"><link rel="prefetch" href="/TIL/assets/js/49.212366e7.js"><link rel="prefetch" href="/TIL/assets/js/5.5c1e0f6b.js"><link rel="prefetch" href="/TIL/assets/js/50.6eec3454.js"><link rel="prefetch" href="/TIL/assets/js/51.e3b1d3c0.js"><link rel="prefetch" href="/TIL/assets/js/52.caf25fea.js"><link rel="prefetch" href="/TIL/assets/js/53.20ffc175.js"><link rel="prefetch" href="/TIL/assets/js/54.a2b2fbb5.js"><link rel="prefetch" href="/TIL/assets/js/55.f7981f44.js"><link rel="prefetch" href="/TIL/assets/js/56.e988a71f.js"><link rel="prefetch" href="/TIL/assets/js/57.58117faf.js"><link rel="prefetch" href="/TIL/assets/js/58.69f5b22b.js"><link rel="prefetch" href="/TIL/assets/js/59.64e5911f.js"><link rel="prefetch" href="/TIL/assets/js/6.fcede214.js"><link rel="prefetch" href="/TIL/assets/js/60.33272b3c.js"><link rel="prefetch" href="/TIL/assets/js/61.a9846425.js"><link rel="prefetch" href="/TIL/assets/js/62.dca35adf.js"><link rel="prefetch" href="/TIL/assets/js/63.2642195a.js"><link rel="prefetch" href="/TIL/assets/js/64.7fe43c47.js"><link rel="prefetch" href="/TIL/assets/js/65.f6b248e6.js"><link rel="prefetch" href="/TIL/assets/js/66.fcb6cb9d.js"><link rel="prefetch" href="/TIL/assets/js/67.e072d0af.js"><link rel="prefetch" href="/TIL/assets/js/68.d544eb73.js"><link rel="prefetch" href="/TIL/assets/js/69.2fd31ef8.js"><link rel="prefetch" href="/TIL/assets/js/7.8593af50.js"><link rel="prefetch" href="/TIL/assets/js/70.2ef01435.js"><link rel="prefetch" href="/TIL/assets/js/71.bc0b198f.js"><link rel="prefetch" href="/TIL/assets/js/72.39c0aff0.js"><link rel="prefetch" href="/TIL/assets/js/73.9bb084df.js"><link rel="prefetch" href="/TIL/assets/js/74.840b0e13.js"><link rel="prefetch" href="/TIL/assets/js/75.fff90b80.js"><link rel="prefetch" href="/TIL/assets/js/76.9a9e294b.js"><link rel="prefetch" href="/TIL/assets/js/77.9c3526f1.js"><link rel="prefetch" href="/TIL/assets/js/78.1b86e439.js"><link rel="prefetch" href="/TIL/assets/js/79.98b21394.js"><link rel="prefetch" href="/TIL/assets/js/8.88f3fda8.js"><link rel="prefetch" href="/TIL/assets/js/80.10a65b6f.js"><link rel="prefetch" href="/TIL/assets/js/81.5b40c39e.js"><link rel="prefetch" href="/TIL/assets/js/82.ac146124.js"><link rel="prefetch" href="/TIL/assets/js/83.5a998bc9.js"><link rel="prefetch" href="/TIL/assets/js/84.7073fdfe.js"><link rel="prefetch" href="/TIL/assets/js/85.d30cbd15.js"><link rel="prefetch" href="/TIL/assets/js/86.9c26ba2a.js"><link rel="prefetch" href="/TIL/assets/js/87.d8342fe5.js"><link rel="prefetch" href="/TIL/assets/js/88.8aec8bfb.js"><link rel="prefetch" href="/TIL/assets/js/89.473d770c.js"><link rel="prefetch" href="/TIL/assets/js/9.06209a69.js"><link rel="prefetch" href="/TIL/assets/js/90.0c1c4121.js"><link rel="prefetch" href="/TIL/assets/js/91.6975151c.js"><link rel="prefetch" href="/TIL/assets/js/92.44c42b55.js"><link rel="prefetch" href="/TIL/assets/js/93.1096e7a7.js"><link rel="prefetch" href="/TIL/assets/js/94.df48c2fb.js"><link rel="prefetch" href="/TIL/assets/js/95.db6880ac.js"><link rel="prefetch" href="/TIL/assets/js/96.695c6240.js"><link rel="prefetch" href="/TIL/assets/js/97.0ce11462.js"><link rel="prefetch" href="/TIL/assets/js/98.542517ee.js"><link rel="prefetch" href="/TIL/assets/js/99.4d8b10b1.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.8364c3bd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today Yurim Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/milooy/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://milooy.wordpress.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/milooy/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://milooy.wordpress.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Monthly I Learned</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/MIL/mil-2108.html" class="sidebar-link">2021년 8월, Monthly I Learned</a></li><li><a href="/TIL/MIL/mil-2107.html" class="sidebar-link">2021년 7월, Monthly I Learned</a></li><li><a href="/TIL/MIL/mil-2106.html" class="sidebar-link">2021년 6월, Monthly I Learned</a></li><li><a href="/TIL/MIL/mil-2106.html" class="sidebar-link">2021년 6월, Monthly I Learned</a></li><li><a href="/TIL/MIL/mil-2104.html" class="sidebar-link">2021년 4월, Monthly I Learned</a></li><li><a href="/TIL/MIL/mil-2103.html" class="sidebar-link">2021.03</a></li><li><a href="/TIL/MIL/mil-2102.html" class="sidebar-link">2021.02</a></li><li><a href="/TIL/MIL/mil-2101.html" class="sidebar-link">2021.01</a></li><li><a href="/TIL/MIL/mil-2011-2012.html" aria-current="page" class="active sidebar-link">2020.11-12</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_11-16" class="sidebar-link">11/16</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-22" class="sidebar-link">12/22</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-23" class="sidebar-link">12/23</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-25" class="sidebar-link">12/25</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-26" class="sidebar-link">12/26</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-27" class="sidebar-link">12/27</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-28" class="sidebar-link">12/28</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-29" class="sidebar-link">12/29</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-30" class="sidebar-link">12/30</a></li><li class="sidebar-sub-header"><a href="/TIL/MIL/mil-2011-2012.html#_12-31" class="sidebar-link">12/31</a></li></ul></li><li><a href="/TIL/MIL/mil-2010.html" class="sidebar-link">2020.10</a></li><li><a href="/TIL/MIL/mil-2009.html" class="sidebar-link">2020.09</a></li><li><a href="/TIL/MIL/mil-2008.html" class="sidebar-link">2020.08</a></li><li><a href="/TIL/MIL/mil-1911.html" class="sidebar-link"># 2019.11</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Books</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Daily Coding</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Angular</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript Testing</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Google Analytics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Data structure and Algorithm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Django</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Module Bundler</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MarkUp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ETC</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2020-11-12"><a href="#_2020-11-12" class="header-anchor">#</a> 2020.11-12</h1> <h2 id="_11-16"><a href="#_11-16" class="header-anchor">#</a> 11/16</h2> <h3 id="emotion-11"><a href="#emotion-11" class="header-anchor">#</a> Emotion 11</h3> <ul><li>TS 빌드 시간 및 타입 추론 성능 개선</li> <li>Hooks를 잘 사용함으로써 번들 사이즈가 줄어듬</li> <li>@emotion/eslint-plugin등의 파서 성능 개선</li> <li>라이브러리 이름이 변경됨 (@emotion/core -&gt; @emotion/react 등): @emotion/pkg-renaming으로 auto fix 가능</li></ul> <h2 id="_12-22"><a href="#_12-22" class="header-anchor">#</a> 12/22</h2> <h3 id="react-hooks로-데이터-fetch해오기"><a href="#react-hooks로-데이터-fetch해오기" class="header-anchor">#</a> React hooks로 데이터 fetch해오기</h3> <p>https://www.robinwieruch.de/react-hooks-fetch-data</p> <ol><li>느낀점 - 선언적인 리액트 코드에서 비동기 데이터를 페칭하는건 노깔끔... : data/loading/error 상태를 알기 위해 페치시작은 useEffect에서, 각 state는 서로 독립적인 useState에서 관리해야 한다. 그리고 이를 set하는건 또 useEffect 안에 있다. 서로 의존적인 코드니 한군데 뭉쳐있는게 좋을텐데. 예를 들어 error 핸들링을 바꾸고 싶다면 뚝 떨어진 3군데를 건드려야 하는게 짱난다.</li> <li>커스텀 훅을 만들면 그나마 한 줄로 관리할 수 있는데, 이를 만들기 위해 또 위와 같은 코드를 낳아야하는게 불편.</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> data<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> isError <span class="token punctuation">}</span><span class="token punctuation">,</span> doFetch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useDataApi</span><span class="token punctuation">(</span>
  <span class="token string">&quot;https://hn.algolia.com/api/v1/search?query=redux&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    hits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>리듀서훅으로 위에서 따로 관리했던 state를 한 번에 관리하기.</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">dataFetchReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 액션type에 따라 state를 mutate시킨다. 추가적인 데이터는 action.payload에서 받음.</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;FETCH_INIT&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        isLoading<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        isError<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;FETCH_SUCCESS&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        isError<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;FETCH_FAILURE&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        isError<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">useDataApi</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">initialUrl<span class="token punctuation">,</span> initialData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// useReducer: 첫번째인자는 reducer를, 두번째 인자는 initial state 오브젝트를 받는다.</span>
  <span class="token comment">// 그리고 [mutate된 state오브젝트, dispatch함수]를 반환한다.</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>dataFetchReducer<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    isError<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> initialData<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">fetchData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// dispatch함수에 type(필수인자)넘기기</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&quot;FETCH_INIT&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// dispatch함수에 type, payload넘기기</span>
        <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&quot;FETCH_SUCCESS&quot;</span><span class="token punctuation">,</span> payload<span class="token operator">:</span> result<span class="token punctuation">.</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&quot;FETCH_FAILURE&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setUrl<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="리액트-코드-분할"><a href="#리액트-코드-분할" class="header-anchor">#</a> 리액트 코드 분할</h3> <p>https://ko.reactjs.org/docs/code-splitting.html</p> <ol><li>번들이 넘 크다면 번들을 나누면 성능up. 런타임에 여러 번들을 동적으로 만들고 불러오기(웹팩, 롤업, Browserify 등에서 지원)</li> <li>import 코드분할 (Webpack, Next.js)</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// before</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./math&quot;</span><span class="token punctuation">;</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// after</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./math&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">math</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  math<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>React.lazy (서버사이드렌더링은 불가)</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// before</span>
<span class="token keyword">import</span> FooComponent <span class="token keyword">from</span> <span class="token string">&quot;./FooComponent&quot;</span>

<span class="token comment">// after</span>
<span class="token keyword">const</span> FooComponent <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token string">&quot;./FooComponent&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// 모듈 로드에 실패시 에러 바운더리로 떨어짐</span>
    <span class="token operator">&lt;</span>MyErrorBoundary<span class="token operator">&gt;</span>
    <span class="token comment">// lazy컴포넌트는 서스펜스 안에 감쌓여있어야함. 그래야 로드되는중 fallback보여줌</span>
    <span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>Loader <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>FooComponent <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>MyErrorBoundary
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><ol start="4"><li>코드분할 어디서부터 할까? 시작하기 좋은 장소는 라우트. 각 컴포넌트를 lazy하게 가져와보자.</li></ol> <h3 id="error-boundary"><a href="#error-boundary" class="header-anchor">#</a> Error boundary</h3> <p>https://ko.reactjs.org/docs/error-boundaries.html</p> <ol><li>js의 try/catch문처럼, 컴포넌트에서 에러나면 catch되어 보여줄 UI 만들기</li> <li>getDerivedStateFromError나 componentDidCatch 에서 error 받고, 보여줄 ui render하는 클래스컴포넌트 만든다.</li> <li>이를 컴포넌트처럼 사용. 에러캐치 원하는 컴포넌트 상위에 감싸준다</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ErrorBoundary</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyWidget</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ErrorBoundary</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="전역-상태-관리에-대한-단상-stale-while-revalidate-by-jbee"><a href="#전역-상태-관리에-대한-단상-stale-while-revalidate-by-jbee" class="header-anchor">#</a> 전역 상태 관리에 대한 단상 (stale-while-revalidate) by jbee</h3> <p>https://jbee.io/react/thinking-about-global-state</p> <ol><li>A, B 컴포넌트에 모두 필요한 api응답값 처리: 1. 둘다 호출 2. Lift state up 3. 전역 redux</li> <li>전역 리덕스의 문제: 내가 원하는 state가 원하는 시점에 존재한다는 보장이X. 그리고 (내가 원하는 만큼)최신 데이터도X. =&gt; 걍 데이터가 필요할때마다 api호출하는게 깔끔. 다만 캐싱해서 비용을 업애버렷</li> <li>stale-while-revalidate란 HTTP 캐시컨트롤 스펙이 있음</li></ol> <div class="language- extra-class"><pre class="language-text"><code>Cache-Control: max-age=&lt;seconds&gt;, stale-while-revalidate=&lt;seconds&gt;
# ex) Cache-Control: max-age=1, stale-while-revalidate=59
# 1초내 재요청하면 캐시값 그대로 /60초 내에 반복발생시에도 캐시값 그대로, 다만 백그라운드에서 새삥으로 갈아치움 / 60초 이후에 재요청하면 다시 서버요청
</code></pre></div><ol start="4"><li>이 swr을 리액트에 적용한 대표적 라이브러리들: swr, react-query, rtk-query.</li> <li>강점: 데이터 가져오는&amp;접근하는 코드가 동일. 주기적으로 revalidate해서 똑똑한 캐싱. (+ 비동기 요청에 따른 status처리, 실패에 따른 retry 처리)</li> <li>굳이 전역상태관리가 필요할 때?: 테마, 다국어처리, 상태 넘 복잡해서 프론트 자체적으로 정규화해서 관리/최적화필요 =&gt; Redux나 Recoil 쓸 수 있음.</li></ol> <h2 id="_12-23"><a href="#_12-23" class="header-anchor">#</a> 12/23</h2> <h3 id="react-suspense"><a href="#react-suspense" class="header-anchor">#</a> React suspense</h3> <p>https://ko.reactjs.org/docs/concurrent-mode-suspense.html</p> <p>React 16.6+
suspend: 유예하다</p> <ol><li>비동기(데이터, 이미지, 스크립트 등) 작업을 기다릴 때 씀. &quot;컴포넌트! 니 데이터가 아직 준비 안됐어&quot;.</li> <li>suspense없는 기존방식: 렌더링 직후 불러오기</li> <li>화면에 컴포넌트가 렌더링 완료 이후에야 비로소 useEffect로 데이터 불러옴</li> <li>워터폴 problem: 컴포넌트가 중첩되어있다면 위의 로딩이 풀리는 시점에야 비로소 아래 데이터 가져오기 시작. 사실 필요 데이터들은 병렬로 불릴 수 있었음에도! 근데 promise.all등으로 병렬로 부른다 하면 첫 로딩이 넘 길어짐.</li> <li>suspense 도입: 데이터 부른 직후 렌더링 할 수 있음. 데이터는 그 후에 불러와짐!</li> <li>아래 코드 보면 로딩분기 if문이 없다.</li> <li>경쟁상태(Race condition)존재x (a를 불러온 후에 이에 따라 b를 불러야한다는 등..). 시간에 대한 것을 그다지 고려x해도 되기 때문. 데이터 있다 치자~ 하고 코딩. 에러는 try/catch가 아니고 에러 바운더리로 처리.</li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> resource <span class="token operator">=</span> <span class="token function">fetchProfileData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// promise가 아님! Relay등 라이브러리의 suspense통합에서 나온 특수객체</span>

<span class="token keyword">function</span> <span class="token function">ProfilePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 렌더링 시도</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Loading profile...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProfileDetails</span></span> <span class="token attr-name">user</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>resource<span class="token punctuation">.</span>user<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"> 2. 렌더링 시도(트리로 타고
      내려옴). 근데 user데이터가 없어서 렌더링 정지
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Loading posts...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        // 4. 가장 가까운 서스펜스 Fallback찾음.
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProfileTimeline</span></span> <span class="token attr-name">posts</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>resource<span class="token punctuation">.</span>posts<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text"> // 3. 위에 기다지 않고 바로 렌더링
        시도. posts데이터가 없어서 렌더링 정지
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_12-25"><a href="#_12-25" class="header-anchor">#</a> 12/25</h2> <h3 id="react-is-becoming-a-black-box"><a href="#react-is-becoming-a-black-box" class="header-anchor">#</a> React is becoming a black box</h3> <p>https://jaredpalmer.com/blog/react-is-becoming-a-black-box</p> <ol><li>리액트가 어떻게 돌아가는지 모르는 사람들이 늘어남(hook, concurrent mode등 나오면서). 원래 리액트 의도는 &quot;너는 뭘(what) 구현할지 생각만 해, 어떻게(how) 구현할진 우리가 해줄게&quot;였는데 how가 어려워짐.</li> <li>리액트 엔지니어링 디렉터(톰 오치노) 입장: new 페북 빠르게/빨라보이게 하기 위해 CM개발중.. 아직 더 할게 많다. Vaporware(개발 중부터 요란하게 선전하지만, 실제로는 완성될 가능성이 없는 소프트웨어) 아니구 많은 리서치로 만들고있음.</li></ol> <h2 id="_12-26"><a href="#_12-26" class="header-anchor">#</a> 12/26</h2> <h3 id="concurrent-mode랑-suspense로-좋은-ux-만들기"><a href="#concurrent-mode랑-suspense로-좋은-ux-만들기" class="header-anchor">#</a> Concurrent mode랑 suspense로 좋은 UX 만들기</h3> <p>https://ko.reactjs.org/blog/2019/11/06/building-great-user-experiences-with-concurrent-mode-and-suspense.html</p> <ol><li>리액트는 퍼포먼스튜닝(React.memo)등 api제공은 했지만 이보다 하이레벨의 패턴에 opinionated하진 않았었음(모든앱이 빠르길 원하는것도 아니고, 진입장벽 낮추기 위해). but 더 큰 이상을 보기로함. 코드가 더 복잡해지더라도 말야 for UX, 스피드, 다양디바이스, 다양네트워크.</li> <li>외부에는 기반작업인 context api랑 훅부터 내놓음. 페북 내부에는 c.m와 relay로 유연하고 더 app-like한 뉴페북 만들어봄. 첫로딩만 중요한게 아님. 앱안에서 인터렉션할 때 화면이 덜바뀌고 즉시 반응 보이는걸 더 빠르다고 느낌.</li> <li>전통방식: 로딩스피너로 컴포넌트 렌더먼저 하고, mount시에 데이터 fetch한다 / Suspense방식: 로딩될때까지 화면바꾸지 않고 기다리다 스피너 없이 렌더</li> <li>라우터 자체에서 미리 불러올 api들을 정의하면 어떨까? 링크에 hover하면 그때부터 바로 불러오는거지 (다만 데이터 열라 잡아먹음)</li></ol> <h2 id="_12-27"><a href="#_12-27" class="header-anchor">#</a> 12/27</h2> <h3 id="react-v17-0-2020-10"><a href="#react-v17-0-2020-10" class="header-anchor">#</a> React v17.0 (2020.10)</h3> <p>https://reactjs.org/blog/2020/10/20/react-v17.html</p> <ol><li>2.5년만의 메이저 업데이트. 사용자에게 뉴피쳐는 없고, 리액트 내부 업글이다. 나중에 릴리즈할 피쳐들 위한 디딤돌</li> <li>메이저 업데이트는 바뀐 api 대응때문에 사실 챌린징한 일이었음(legacy context api deprecation등은 자동코드변경도 불가능). 그래서 이번 v17부터는 점진적인(gradual) 업뎃 가능하도록. 여기는 17쓰고, 다른곳은 lazy load로 16쓰고 할 수 있단거지(권장하는건 아님. 불가피할 때 쓸 수 있도록). 이를 가능하게 하기 위해 리액트 내부 이벤트 시스템을 많이 바꿔야 됐음. 그래서 이번 17이 뉴피쳐 없지만 메이저 업데이트인것임.</li> <li>이벤트 델리게이션 내부변경: button에 onClick달면 리액트 내부적으로는 document노드에 버블링시킨다(성능개선때문). 근데 점진업뎃으로 리액트 버전 2개씩 쓰면 여기서 문제가 생김. 그래서 17부터는 document가 아닌 root DOM에 붙이기로 함.
<ol><li>외에도 전체적으로 이벤트 관련 내부 변경이 많다. 조금 더 DOM/JavaScript 기본 이벤트와 가까워지고 예상했던대로 리액트 이벤트 코드가 동작하게 됨.</li></ol></li> <li>useEffect 클린업 function: 기존엔 동기로 불렸는데 이제 비동기로! 좋네. 동기로 하고싶으면 useLayoutEffect 쓰삼.</li></ol> <h2 id="_12-28"><a href="#_12-28" class="header-anchor">#</a> 12/28</h2> <h3 id="웹팩-개념들"><a href="#웹팩-개념들" class="header-anchor">#</a> 웹팩 개념들</h3> <p>https://joshua1988.github.io/webpack-guide/concepts/overview.html
https://velog.io/@pop8682/%EB%B2%88%EC%97%AD-%EC%99%9C-babel-preset%EC%9D%B4-%ED%95%84%EC%9A%94%ED%95%98%EA%B3%A0-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%9C%EA%B0%80-yhk03drm7q</p> <ol><li>entry: 여기있는 파일들을 변환할거시다</li> <li>output: 변환한 결과물은 여기에 저장할거시다</li> <li>loader: (module.rules[]에 넣는다) js말고 다른 자원(html, css, image, font등)도 변환하고싶다. 특정 파일(정규식으로 검사)에 ㅁㅁ로더를 쓴다고 명시. (자주사용: babel-loader, sass, file, ts) (use에 배열로 로더를 넣으면 오른쪽에서 왼쪽으로 적용)</li> <li>plugin: 변환된 결과물의 형태를 바꿈. (e.g. HtmlWebpackPlugin - 빌드 결과물로 html 파일 생성, ProgressPlugin - 웹팩빌드 진행률 표시, @babel/plugin-transform-arrow-functions: 바벨로 arrow function es5로 컴파일)</li> <li>mode: development | production - 에 따라 웹팩 결과물 다르게.</li> <li>preset: 플러그인 하나하나 설치하기 귀찮. 모아놓은 세트가 preset. (e.g. @babel/preset-react, @babel/preset-typescript)</li></ol> <h3 id="npx"><a href="#npx" class="header-anchor">#</a> npx</h3> <p>https://blog.npmjs.org/post/162869356040/introducing-npx-an-npm-package-runner
(npm 5.2이상이면 자동설치)</p> <ol><li>로컬 패키지에서 script run할때 직접 ./node_modules/... 들어가지 않고도 간단커맨드로 실행 가능(<code>npx mocha</code>)</li> <li>로컬에 굳이 설치하기 싫은 일회성 커맨드 클라우드에서 실행 (<code>npx create-react-app foo</code>). 일단 설치하고 실행 후 자동제거시킴. 이게 cra팀도 더 좋은게 사람들이 항상 최신버전 쓸테니까.</li></ol> <h2 id="_12-29"><a href="#_12-29" class="header-anchor">#</a> 12/29</h2> <h3 id="parcel"><a href="#parcel" class="header-anchor">#</a> Parcel</h3> <p>https://parceljs.org/
https://kdydesign.github.io/2020/09/23/parcel-intro/</p> <ol><li>빠르고(캐싱 덕 - 웹팩 20s/파슬9.9초/파슬2회차2.6초) 설정 필요없는(러닝커브 낮음) 번들러</li> <li>코드분할이 기본(모듈 필요시 자동으로 하위번들 처리)</li> <li>플러그인 없이 html, css, file 등 처리, babel, postcss, posthtml 등 여러 트랜스파일러 내장</li> <li>오픈소스X</li></ol> <h2 id="_12-30"><a href="#_12-30" class="header-anchor">#</a> 12/30</h2> <h3 id="snowpack"><a href="#snowpack" class="header-anchor">#</a> Snowpack</h3> <p>https://heropy.blog/2020/10/31/snowpack/
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import
https://www.daleseo.com/js-module-import/</p> <ol><li>번들러가 아님
<ol><li>babel, ts등으로 파일 빌드하고 -&gt; js의 import/export문법으로 브라우저에서 개별 로드.</li></ol></li> <li>개빠름, 변경사항 브라우저 즉반영, TS/JSX/CSS 모듈 등 기본지원, 다른 번들러(웹팩, 롤업 등)랑 통합가능</li> <li>의존성관리: node_modules의 모든 의존성 모듈을 js로 바꾸고 브라우저에서 직접실행(js의 import문법)</li> <li>snowpack.config.js로 관리</li></ol> <h2 id="_12-31"><a href="#_12-31" class="header-anchor">#</a> 12/31</h2> <h3 id="webpack-5-릴리즈노트-2020-10"><a href="#webpack-5-릴리즈노트-2020-10" class="header-anchor">#</a> Webpack 5 릴리즈노트 (2020.10)</h3> <p>https://webpack.js.org/blog/2020-10-10-webpack-5-release/</p> <ol><li>2년만의 메이저 업데이트(리액트랑 비슷하네). 아키텍쳐 개선과 이게 수반해야만 가능한 피쳐릴리즈. 4랑 5 둘다 메인테이닝할거임-완성본x. Breaking changes가끝났다는 의미로 릴리즈함.</li> <li>웹팩은 오픈소스. 기업이 주도X. 코로나 때문에 큰타격입음. 상황 나아질때까지 월에 10일만 pay줄 수 있다(컨트리뷰터/메인테이너들이 후원금으로 돈을 받는군!).</li> <li>릴리즈 방향
<ol><li>캐싱 - Persistent caching으로 빌드 퍼포먼스 업, Long term cachibng으로 알고리즘 업</li> <li>번들사이즈, 트리셰이킹 업</li> <li>웹 플랫폼과 호환성 업</li> <li>4를 breaking changes업게 만드느라 짰던 이상한 코드 clean up</li></ol></li></ol> <h3 id="리액트-api콜-어디서-constructor-vs-componentwillmount-vs-componentdidmount"><a href="#리액트-api콜-어디서-constructor-vs-componentwillmount-vs-componentdidmount" class="header-anchor">#</a> 리액트 API콜 어디서? constructor vs componentWillMount vs componentDidMount</h3> <p>https://medium.com/@santoshpunase/integrating-apis-in-react-js-constructor-vs-componentwillmount-vs-componentdidmount-e0b98c3efecd</p> <p>최근에 함수형컴포넌트+useEffect만 쓰다가 강의찍기위해 클래스컴포넌트 보는데 api콜 어디서 했는지 헷갈려서 찾아봄.</p> <ol><li>contructor에서? X: initial state랑 이벤트핸들러 바인딩이 목적인 곳. 데이터페칭은 사이드이펙트 일으킬 수 있어 여기서 하지 말아라. 일단 setState 자체도 막아둠.</li> <li>componentWillMount에서? X: render전에 불리니 여기 둬야 가장 빠르지 않을까 하는데 그렇지도 않은게 직후에 render가 불려 로딩상태 피할 수 없음. 그리고 SSR에서도 불리기 때문에(추가 데이터 페칭 불가한..) api가 불필요하게 2번 불리게 됨. 그리고 이 생명주기 메서드가 deprecated되었슴.</li> <li>componentDidMount: 걍 mount 되고 부르는게 젤 깔끔.</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/MIL/mil-2101.html" class="prev">
        2021.01
      </a></span> <span class="next"><a href="/TIL/MIL/mil-2010.html">
        2020.10
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.2b48478b.js" defer></script><script src="/TIL/assets/js/2.cfc8eb86.js" defer></script><script src="/TIL/assets/js/216.4d012c7a.js" defer></script>
  </body>
</html>
